!function(C,r,l){function t(e,t){this.elem=e,this.$elem=C(e),this.options=t,this.metadata=this.$elem.data("plugin-options")}t.defaults=(t.prototype={public:function(){return{currentDate:moment().startOf("day"),format:"L",dayLabelFormat:"dddd, D MMMM YYYY",hourLabelFormat:"HH:mm",shortDateLabelFormat:"DD/MM",calendarCount:2,mobileBreakpoint:760,inline:!1,minDate:null,maxDate:null,startOnMonday:!1,container:"body",oneCalendarWidth:230,enableKeyboard:!0,showOn:"bottom",autoAlign:!0,locale:moment.locale(),target:null,autoCloseOnSelect:!1,cancelLabel:"Cancel",clearLabel:"Clear",closeLabel:"Close",applyLabel:"Select",namelessLabel:"[unnamed]",buttonDefaultText:"Select Event",goToEventLabel:"<i class='fa fa-arrow-right'></i>",goToEventTooltipText:"Go to event page",onbeforeselect:function(){return!0},onafterselect:function(){},onbeforeshow:function(){},onbeforehide:function(){},onaftershow:function(){},onafterhide:function(){},onbeforedaychange:function(){return!0},onbeforemonthchange:function(){return!0},onaftermonthchange:function(){},ondraw:function(){},oninit:function(){},enableMonthSwitcher:!0,enableYearSwitcher:!0,events:[],eventsUrl:null,showDefaultEvent:!0,onDefaultEventClick:function(){},defaultEvent:{label:"No events for today"},defaultEventClickable:!1,defaultView:"list",staticBoxHeight:!1,boxHeight:null,enableGridView:!0,enableListView:!0,enableFullView:!0,enableMaximize:!0,enableMinimize:!0,defaultEventImage:"../assets/noimage.png",defaultEventColor:"#74d3ae",showEventDetails:!0,showGoToEventLink:!0,showAddEventLink:!0,addNewLabel:"<i class='fa fa-plus'></i>&nbsp;Add New Event",showAddButtonOn:!1,onAddButtonClick:function(){},numericMonthSwitcher:!1}},private:function(){return{currentDate:moment().startOf("day"),swipeTimeout:null,isMobile:!1,valElements:["BUTTON","OPTION","INPUT","LI","METER","PROGRESS","PARAM"],dontHideOnce:!1,initiator:null,initComplete:!1,eventsView:"list",windowState:"restore",keyboardHoverDate:null,selectedEvent:null,focusedEvent:null,documentEvent:null,defaultHeight:500,preventMouseClick:!1,scrollEventRunning:!1}},init:function(){var t=this;return this.config=C.extend({},this.public(),this.options,this.metadata),this.globals=C.extend({},this.private()),this.globals.isMobile=this.checkMobile(),this.$elem.data("evendar",this),this.addBrowserClass(),null!==t.config.eventsUrl&&C.ajax({url:t.config.eventsUrl,method:"GET",datatype:"json",async:!1,success:function(e){t.config.events=e},complete:function(){dfr.resolve()}}),t.createButton(),t.applyConfig(),t.fetchInputs(),t.drawUserInterface(),t.addInitialEvents(),t.addKeyboardEvents(),t.config.oninit(t),t.globals.initComplete=!0,this},createButton:function(){!1===this.config.inline&&(this.$elem.wrapAll("<div class='evendar-input-wrapper'></div>"),this.wrapper=this.$elem.parents(".evendar-input-wrapper").first(),this.button=C("<button type='button' class='evendar-button'>"+this.config.buttonDefaultText+"</button>").appendTo(this.wrapper),this.elem.type="hidden",this.$elem=this.button)},applyConfig:function(){if(["grid","list"].indexOf(this.config.defaultView)<0&&(this.config.defaultView=this.globals.eventsView),"grid"===this.config.defaultView&&!1===this.config.enableGridView&&(this.config.defaultView="list"),"list"===this.config.defaultView&&!1===this.config.enableListView&&!0===this.config.enableGridView&&(this.config.defaultView="grid"),!1===this.config.enableGridView&&!1===this.config.enableListView&&(this.config.defaultView="list"),this.globals.eventsView=this.config.defaultView,this.config.boxHeight="number"!=typeof this.config.boxHeight?this.globals.defaultHeight:this.config.boxHeight,null===this.config.target&&(this.config.target=C(this.elem)),!1===this.globals.isMobile){!0===this.config.inline?(this.container=this.$elem.wrapAll("<div class='evendar-container evendar-inline' tabindex='-1'></div>").parent(),this.input=C("<div class='evendar-input'></div>").appendTo(this.container),this.input.append("<div class='evendar-input-content'></div>"),this.elem.type="hidden"):(this.container=C("<div class='evendar-container evendar-popup' style='display: none;' tabindex='-1'><div class='evendar-box-arrow-top'></div></div>").appendTo(this.config.container),this.input=C("<div class='evendar-input'></div>").appendTo(this.container),this.input.append("<div class='evendar-input-content'></div>"));var e=this.config.calendarCount,t=this.config.oneCalendarWidth;this.input.css("width",e*t+"px")}else!0===this.config.inline?(this.container=this.$elem.wrapAll("<div class='evendar-container-mobile evendar-inline' tabindex='-1'></div>").parent(),this.input=C("<div class='evendar-input'></div>").appendTo(this.container),this.input.append("<div class='evendar-input-content'></div>"),this.elem.type="hidden"):(this.container=C("<div class='evendar-container-mobile' tabindex='-1'></div>").appendTo(this.config.container),this.input=C("<div class='evendar-input' style='display: none;'></div>").appendTo(this.container),this.input.append("<div class='evendar-input-content'></div>"));this.$elem.on("focus",function(){C(this).blur()}),this.config.autoCloseOnSelect&&this.input.addClass("evendar-auto-select"),this.checkEvents()},checkEvents:function(){for(var e=this,t=0;t<e.config.events.length;t++)!1===e.config.events[t].hasOwnProperty("startDate")||!1===e.config.events[t].hasOwnProperty("endDate")||!1===e.config.events[t].hasOwnProperty("id")?e.config.events.splice(t,1):(e.config.events[t].hasOwnProperty("color")||(e.config.events[t].color=e.config.defaultEventColor),e.config.events[t].hasOwnProperty("name")||(e.config.events[t].name=e.config.namelessLabel),e.config.events[t].hasOwnProperty("description")||(e.config.events[t].description=""),e.config.events[t].hasOwnProperty("place")||(e.config.events[t].place=""),e.config.events[t].hasOwnProperty("excerpt")||(e.config.events[t].excerpt=""),e.config.events[t].hasOwnProperty("link")||(e.config.events[t].link=""),e.config.events[t].hasOwnProperty("target")||(e.config.events[t].target="_self"),e.config.events[t].hasOwnProperty("image")||(e.config.events[t].image=this.config.defaultEventImage))},fetchInputs:function(){var t=null,e=""!=(t=-1!==C.inArray(this.config.target.get(0).tagName,this.globals.valElements)?this.config.target.val():this.config.target.text())?C.grep(this.config.events,function(e){return e.id==t}):[];0<e.length?(this.globals.selectedEvent=e[0],this.config.currentDate=moment(this.globals.selectedEvent.startDate,this.config.format,this.config.locale),this.globals.currentDate=moment(this.config.currentDate)):this.globals.selectedEvent=null,this.globals.keyboardHoverDate=this.config.currentDate.clone()},drawUserInterface:function(){this.input.find(".evendar-input-content").append("<div class='evendar-calendars'></div>"),this.calendars=this.input.find(".evendar-calendars").first();for(var e=this.globals.currentDate.clone().middleOfDay(),t=0;t<this.config.calendarCount;t++)this.drawCalendarOfMonth(e),e=e.add(1,"month");this.calendars.find(".evendar-calendar").last().addClass("no-border-right"),this.drawArrows(),this.reDrawCells(),this.drawFooter(),this.updateInput(!1),this.drawEvents(),this.attachEvents(),this.checkOfflineFonts()},updateInput:function(e){-1!==C.inArray(this.config.target.get(0).tagName,this.globals.valElements)?null===this.globals.selectedEvent?(this.config.target.val(""),0==this.config.inline&&this.button.text(this.config.buttonDefaultText)):(this.config.target.val(this.globals.selectedEvent.id),0==this.config.inline&&this.button.text(this.globals.selectedEvent.name)):null===this.globals.selectedEvent?(this.config.target.text(""),0==this.config.inline&&this.button.text(this.config.buttonDefaultText)):(this.config.target.text(this.globals.selectedEvent.id),0==this.config.inline&&this.button.text(this.globals.selectedEvent.name)),!0===this.globals.initComplete&&!0===e&&this.config.onafterselect(this,this.globals.selectedEvent)},drawArrows:function(){0<this.container.find(".evendar-title").length&&(this.globals.isMobile?(this.container.find(".evendar-title").prepend("<div class='evendar-prev'><i data-label='&#9668' class='fa fa-arrow-left'></i></div>"),this.container.find(".evendar-title").append("<div class='evendar-next'><i data-label='&#9658;' class='fa fa-arrow-right'></i></div>")):(this.container.find(".evendar-title:first").prepend("<div class='evendar-prev'><i data-label='&#9668;' class='fa fa-arrow-left'></i></div>"),this.container.find(".evendar-title:last").append("<div class='evendar-next'><i data-label='&#9658;' class='fa fa-arrow-right'></i></div>")))},drawCalendarOfMonth:function(t){var i=this,e=moment.localeData(this.config.locale).firstDayOfWeek();t.locale(this.config.locale);var n=moment(t).locale(this.config.locale).date(1).startOf("week").middleOfDay();1==e&&!1===this.config.startOnMonday?(n.add(-1,"days"),e=0):0===e&&!0===this.config.startOnMonday&&(n.add(1,"days"),e=1),n.isAfter(moment(t).date(1))&&n.add(-7,"days");var a=C.grep(i.config.events,function(e){return!(!moment(e.startDate,i.config.format).isValid()||!moment(e.endDate,i.config.format).isValid())&&moment(t).startOf("month").isBetween(moment(e.startDate,i.config.format),moment(e.endDate,i.config.format),"month","[]")}),s="<div class='evendar-calendar' data-month='"+t.month()+"'>",o=0,r="",l="";this.config.enableMonthSwitcher&&(r=" class='evendar-month-switch'"),this.config.enableYearSwitcher&&(l=" class='evendar-year-switch'"),s+="<div class='evendar-title'><div class='evendar-month-year-container'><b"+r+">"+t.locale(this.config.locale).format("MMMM")+"</b>&nbsp;<span"+l+">"+t.year()+"</span></div></div>",s+="<div class='evendar-days-container'>";for(var d=moment.localeData(this.config.locale).weekdaysShort(),c=e;c<e+7;c++)s+="<div class='evendar-dayofweek'>"+d[c%7]+"</div>";for(;o<42;){var h=n.middleOfDay().unix();s+="<div class='"+(t.month()==n.month()?"evendar-day":"evendar-disabled")+"' data-value='"+h+"'><span>"+n.date()+"</span></div>",n.add(moment.duration({days:1})),o++}s+="</div>",s+="</div>",this.calendars.append(s);function f(t,e){return C.grep(e,function(e){return!(!moment(e.startDate,i.config.format).isValid()||!moment(e.endDate,i.config.format).isValid())&&t.isBetween(moment(e.startDate,i.config.format),moment(e.endDate,i.config.format),"day","[]")})}for(var v=this.calendars.find(".evendar-calendar:last .evendar-day"),g=0;g<v.get().length;g++){var p=C(v[g]),u=moment.unix(p.data("value")),m=f(moment(u).startOf("day"),a);if(0<m.length)for(var b=C("<div class='evendar-event-points-container'></div>").appendTo(p),y=0;y<m.length&&(b.append("<p class='evendar-event-point' style='background:"+m[y].color+"'></p>"),!(1<y));y++);}},drawFooter:function(){this.input.append("<div class='evendar-footer'></div>"),this.footer=this.input.find(".evendar-footer"),this.footer.append("<button type='button' class='evendar-cancel'>"+this.config.cancelLabel+"</button>"),this.footer.append("<button type='button' class='evendar-clear'>"+this.config.clearLabel+"</button>"),this.footer.append("<button type='button' class='evendar-apply' disabled='disabled'>"+this.config.applyLabel+"</button>"),null!==this.globals.selectedEvent&&this.footer.find(".evendar-apply").removeAttr("disabled")},getContrastYIQ:function(e){return 128<=(299*parseInt(e.substr(0,2),16)+587*parseInt(e.substr(2,2),16)+114*parseInt(e.substr(4,2),16))/1e3?"black":"white"},getHexColor:function(e){var t=l.createElement("div");t.style.color=e;var i=r.getComputedStyle(l.body.appendChild(t)).color.match(/\d+/g).map(function(e){return parseInt(e,10)});return l.body.removeChild(t),3<=i.length&&"#"+((1<<24)+(i[0]<<16)+(i[1]<<8)+i[2]).toString(16).substr(1)},addOpacity:function(e,t){var i=l.createElement("div");i.style.color=e;var n=r.getComputedStyle(l.body.appendChild(i)).color.match(/\d+/g).map(function(e){return parseInt(e,10)});return l.body.removeChild(i),"rgba("+n[0]+", "+n[1]+", "+n[2]+", "+t+")"},drawEvents:function(){this.input.find(".evendar-eventlist, .evendar-eventlist-header, .evendar-add-new").remove(),"top"==this.config.showAddButtonOn&&this.input.prepend("<div class='evendar-add-new'><button type='button'>"+this.config.addNewLabel+"</button></div>"),this.input.prepend("<div class='evendar-eventlist-header'><div class='evendar-eventlist-panel-tools'>"+(this.config.enableMaximize?"<a data-type='maximize'><i data-label='&#x21E7;' class='fa fa-window-maximize'></i></a>":"")+(this.config.enableMaximize||this.config.enableMinimize?"<a data-type='restore'><i data-label='&#x21F3;' class='fa fa-window-restore'></i></a>":"")+(this.config.enableMinimize?"<a data-type='minimize'><i data-label='&#x21E9;' class='fa fa-window-minimize' style='position:relative; top: -1px'></i></a>":"")+"</div><div class='evendar-eventlist-header-title'>"+this.config.currentDate.locale(this.config.locale).format(this.config.dayLabelFormat)+"</div><div class='evendar-eventlist-type-selector'>"+(this.config.enableListView?"<a data-type='list'><i data-label='List' class='fa fa-list'></i></a>":"")+(this.config.enableGridView?"<a data-type='grid'><i data-label='Grid' class='fa fa-bar-chart' style='position:relative; top: -1px'></i></a>":"")+(this.config.enableFullView?"<a data-type='full'><i data-label='Full' class='fa fa-asterisk' style='position:relative; top: -1px'></i></a>":"")+"</div></div>"),(this.config.enableMaximize||this.config.enableMinimize)&&this.addPanelToolsEvents(),this.addListTypeEvents(),"middle"==this.config.showAddButtonOn&&this.input.find(".evendar-input-content").append("<div class='evendar-add-new'><button type='button'>"+this.config.addNewLabel+"</button></div>"),this.input.find(".evendar-input-content").append("<div class='evendar-eventlist'></div>"),"grid"==this.globals.eventsView?this.drawEventsGrid():"list"==this.globals.eventsView?this.drawEventsList(!1):"full"==this.globals.eventsView&&this.drawEventsList(!0),"bottom"==this.config.showAddButtonOn&&this.input.find(".evendar-input-content").append("<div class='evendar-add-new'><button type='button'>"+this.config.addNewLabel+"</button></div>");var e=C.proxy(this.eventClicked,this);this.container.find(".evendar-eventlist-item").off("click.evendar").on("click.evendar",e),this.container.find(".evendar-eventlist-item-list").off("click.evendar").on("click.evendar",e),this.config.defaultEventClickable&&this.container.find(".evendar-eventlist-item-list-empty").off("click.evendar").on("click.evendar",e),this.resizeEventBox(),this.checkOfflineFonts()},checkOfflineFonts:function(){this.container.find("i").each(function(){"FontAwesome"!==r.getComputedStyle(C(this).get(0),null).getPropertyValue("font-family")&&C(this).parent().text(C(this).data("label"))})},addListTypeEvents:function(){var i=this;this.input.find(".evendar-eventlist-type-selector a").removeClass("active"),this.input.find(".evendar-eventlist-type-selector a[data-type='"+this.globals.eventsView+"']").addClass("active"),this.input.find(".evendar-eventlist-type-selector a").off("click").on("click",function(e){var t=C(this).data("type");i.globals.eventsView!==t&&(C(this).siblings("a").removeClass("active"),C(this).addClass("active"),i.globals.eventsView=t,i.drawEvents()),i.stopBubbling(e)})},addPanelToolsEvents:function(){var i=this;this.input.find(".evendar-eventlist-panel-tools a").removeClass("active"),this.input.find(".evendar-eventlist-panel-tools a[data-type='"+this.globals.windowState+"']").addClass("active"),this.input.find(".evendar-eventlist-panel-tools a").off("click").on("click",function(e){var t=C(this).data("type");switch(C(this).siblings("a").removeClass("active"),C(this).addClass("active"),t){case"maximize":i.input.removeClass("evendar-maximized-calendar").addClass("evendar-maximized-events"),i.globals.windowState="maximize",i.drawEvents();break;case"restore":i.input.removeClass("evendar-maximized-events").removeClass("evendar-maximized-calendar"),i.globals.windowState="restore",i.drawEvents();break;case"minimize":i.input.removeClass("evendar-maximized-events").addClass("evendar-maximized-calendar"),i.globals.windowState="minimize",i.resizeEventBox()}i.stopBubbling(e)})},resizeEventBox:function(){var e=99999,t=0;if(this.globals.isMobile){var i=r.innerHeight-this.input.find(".evendar-eventlist-header").outerHeight()-this.input.find(".evendar-footer").outerHeight()-2*parseInt(this.input.css("margin"),10);t=r.innerWidth<r.innerHeight?this.config.staticBoxHeight?(e=this.config.boxHeight>i?i:this.config.boxHeight,this.config.boxHeight>i?i:this.config.boxHeight):(e=this.config.boxHeight>i?i:this.config.boxHeight,0):(e=this.config.boxHeight>i?i:this.config.boxHeight,this.config.boxHeight>i?i:this.config.boxHeight)}else e=this.config.staticBoxHeight?this.config.boxHeight:this.globals.defaultHeight,t=this.config.staticBoxHeight?this.config.boxHeight:0;this.input.find(".evendar-input-content").css("max-height",e+"px").css("min-height",t+"px"),this.setViewport()},drawEventsList:function(e){var t=this,i=moment(this.config.currentDate).startOf("day"),n=(moment(this.config.currentDate).endOf("day"),this.input.find(".evendar-eventlist")),a=JSON.parse(JSON.stringify(this.config.events));if(!0!==e&&(a=C.grep(a,function(e){return!(!moment(e.startDate,t.config.format).isValid()||!moment(e.endDate,t.config.format).isValid())&&i.isBetween(moment(e.startDate,t.config.format),moment(e.endDate,t.config.format),"day","[]")})),0===a.length&&this.config.showDefaultEvent&&((a=[JSON.parse(JSON.stringify(this.config.defaultEvent))])[0].isDefault=!0),0<a.length)for(var s=0;s<a.length;s++)if(a[s].hasOwnProperty("isDefault"))this.config.defaultEventClickable?C("<div class='evendar-eventlist-item-list-empty'><div class='evendar-eventlist-no-event'>"+a[s].label+"</div></div>").appendTo(n):C("<div class='evendar-eventlist-item-list-empty-nc'><div class='evendar-eventlist-no-event'>"+a[s].label+"</div></div>").appendTo(n);else{var o=moment(a[s].startDate,this.config.format),r=moment(a[s].endDate,this.config.format);C("<div class='evendar-eventlist-item-list"+(null!=this.globals.selectedEvent&&a[s].id==this.globals.selectedEvent.id?" evendar-eventlist-item-selected'":"")+"' style='border-left: 6px solid "+a[s].color+"' data-event-id='"+a[s].id+"'><div class='evendar-eventlist-item-list-content'><div class='evendar-eventlist-left'><p class='evendar-eventlist-startdate'>"+o.format(this.config.shortDateLabelFormat)+"<br><b>"+o.format(this.config.hourLabelFormat)+"</b></p><p class='evendar-eventlist-enddate'>"+r.format(this.config.shortDateLabelFormat)+"<br><b>"+r.format(this.config.hourLabelFormat)+"</b></p></div><div class='evendar-eventlist-right'><p class='evendar-eventlist-name'>"+a[s].name+"</p><p class='evendar-eventlist-place'>"+a[s].place+"</p><p class='evendar-eventlist-excerpt'>"+a[s].excerpt+"</p></div></div></div>").appendTo(n)}},drawEventsGrid:function(){var n=this,t=moment(this.config.currentDate).startOf("day"),e=moment(this.config.currentDate).endOf("day"),i=this.input.find(".evendar-eventlist"),a=JSON.parse(JSON.stringify(this.config.events));a=C.grep(a,function(e){return!(!moment(e.startDate,n.config.format).isValid()||!moment(e.endDate,n.config.format).isValid())&&t.isBetween(moment(e.startDate,n.config.format),moment(e.endDate,n.config.format),"day","[]")});for(var s=0;s<a.length;s++){a[s].originalStartDate=a[s].startDate,a[s].originalEndDate=a[s].endDate;var o=moment(a[s].startDate,this.config.format),r=moment(a[s].endDate,this.config.format);o.isBefore(t)&&(a[s].startDate=t.format(this.config.format)),r.isAfter(e)&&(a[s].endDate=e.format(this.config.format))}for(var l=t.clone();l.add(1,"hours"),i.append("<div class='evendar-eventlist-event' data-value='"+l.format(this.config.hourLabelFormat)+"'><div class='evendar-eventlist-hour'>"+l.format(this.config.hourLabelFormat)+"</div><div class='evendar-eventlist-content'></div></div>"),l.isSame(moment(this.config.currentDate),"day"););var d=C("<div class='evendar-eventlist-item-container'></div>").appendTo(i);d.css({top:0,left:i.find(".evendar-eventlist-hour:first").outerWidth()});var c=i.find(".evendar-eventlist-event:first").outerHeight();if(moment(this.config.currentDate).startOf("day").isSame(moment().startOf("day"))){var h=C("<div class='evendar-eventlist-event-now'><div class='evendar-eventlist-event-now-ball'>"+moment().format(this.config.hourLabelFormat)+"</div></div>").appendTo(i),f=moment().diff(moment().startOf("day"),"minutes")/60;h.css({top:f*c+2,left:i.find(".evendar-eventlist-hour:first").outerWidth()-5})}function v(e,i){return C.grep(e,function(t){return!i.some(function(e){return e===t})})}for(var g;0<a.length;){(g=a).sort(function(e,t){var i=moment(e.startDate,n.config.format);return moment(t.startDate,n.config.format).isBefore(i)}),a=g;for(var p=moment(this.config.currentDate).startOf("day"),u=[],m=0;m<a.length;m++){if(0===u.length)u.push(a[m]),p=moment(a[m].endDate,this.config.format);else moment(a[m].startDate,this.config.format).isAfter(p)&&(u.push(a[m]),p=moment(a[m].endDate,this.config.format))}var b=C("<div class='evendar-eventlist-item-column'></div>").appendTo(d).height(i.find(".evendar-eventlist-event:last").position().top+2*i.find(".evendar-eventlist-event:last").height());for(m=0;m<u.length;m++){var y=moment(u[m].startDate,this.config.format),w=moment(u[m].endDate,this.config.format),D=moment(u[m].originalStartDate,this.config.format).isSame(t,"day"),x=moment(u[m].originalEndDate,this.config.format).isSame(t,"day"),O=y.hour()+y.minutes()/60,E=w.hour()+w.minutes()/60-O,k=C("<div class='evendar-eventlist-item' style='border-left: 5px solid "+u[m].color+";'>"+u[m].name+"</div>").appendTo(b);k.data("event-id",u[m].id),k.css("top",O*c+5),k.css("height",E*c-5),D||k.addClass("evendar-notopradius"),x||k.addClass("evendar-nobottomradius"),null!=this.globals.selectedEvent&&u[m].id==this.globals.selectedEvent.id&&k.addClass("evendar-eventlist-item-selected")}a=v(a,u)}for(s=d.find(".evendar-eventlist-item-column").length;s<3;s++)C("<div class='evendar-eventlist-item-column'></div>").appendTo(d).height(i.find(".evendar-eventlist-event:last").position().top+2*i.find(".evendar-eventlist-event:last").height())},drawNextMonth:function(e){if((e=e||r.event).target=e.target||e.srcElement,null===this.globals.swipeTimeout){var t=this;if((this.globals.swipeTimeout=!0)===t.config.onbeforemonthchange(t,t.globals.currentDate.startOfMonth(),"next")){var i=t.calendars.get(0).scrollTop;t.globals.currentDate.middleOfDay().add(1,"month"),t.config.currentDate.middleOfDay().add(1,"month"),t.globals.keyboardHoverDate.middleOfDay().add(1,"month"),t.reDrawCalendars(),t.calendars.get(0).scrollTop=i,t.config.onaftermonthchange(t,t.globals.currentDate.startOfMonth())}setTimeout(function(){t.globals.swipeTimeout=null},100)}this.stopBubbling(e)},drawPrevMonth:function(e){if((e=e||r.event).target=e.target||e.srcElement,null===this.globals.swipeTimeout){var t=this;if((this.globals.swipeTimeout=!0)===t.config.onbeforemonthchange(t,t.globals.currentDate.startOfMonth(),"prev")){var i=t.calendars.get(0).scrollTop;t.globals.currentDate.middleOfDay().subtract(1,"month"),t.config.currentDate.middleOfDay().subtract(1,"month"),t.globals.keyboardHoverDate.middleOfDay().subtract(1,"month"),t.reDrawCalendars(),t.calendars.get(0).scrollTop=i,t.config.onaftermonthchange(t,t.globals.currentDate.startOfMonth())}setTimeout(function(){t.globals.swipeTimeout=null},100)}this.stopBubbling(e)},cellClicked:function(e){(e=e||r.event).target=e.target||e.srcElement,!1===C(e.target).hasClass("evendar-day")&&(e.target=C(e.target).closest(".evendar-day").get(0));var t=C(e.target).data("value"),i=moment.unix(t).middleOfDay();if(!1===this.config.onbeforedaychange(this,i))return this.stopBubbling();this.config.currentDate=i,this.globals.keyboardHoverDate=i.clone(),this.reDrawCells(),this.drawEvents(),this.attachEvents(),this.stopBubbling(e)},reDrawCalendars:function(){this.input.html("<div class='evendar-input-content'></div>"),this.drawUserInterface(),this.setViewport();var e=r.scrollX||r.pageXOffset||l.documentElement.scrollTop,t=r.scrollY||r.pageYOffset||l.documentElement.scrollLeft;this.container.focus(),r.scrollTo(e,t)},monthSwitchClicked:function(){if(!(0<this.calendars.find(".evendar-month-selector").length)){var t=this;this.calendars.get(0).scrollTop=0;for(var e=C("<div class='evendar-month-selector'></div>").appendTo(this.calendars),i=this.globals.currentDate.get("month"),n=0;n<12;n++)e.append("<div class='evendar-ms-month"+(i==n?" current":"")+"' data-month='"+n+"'>"+(this.config.numericMonthSelector?n+1:moment({day:15,hour:12,month:n}).locale(this.config.locale).format("MMMM"))+"</div>");e.css("display","block"),this.optimizeFontSize(e.find(".evendar-ms-month")),e.find(".evendar-ms-month").off("click").on("click",function(e){t.globals.currentDate.month(C(this).data("month")),t.config.currentDate=t.globals.currentDate.clone(),t.reDrawCalendars(),t.calendars.find(".evendar-month-selector").remove(),t.stopBubbling(e)})}},yearSwitchClicked:function(){if(!(0<this.calendars.find(".evendar-year-selector").length)){var a=this;this.calendars.get(0).scrollTop=0;var s=C("<div class='evendar-year-selector'></div>").appendTo(this.calendars),e=this.globals.currentDate.get("year");s.append("<div class='evendar-ys-year-prev'><i class='fa fa-angle-double-left'></i></div>"),s.data("year",e);for(var t=e-6;t<e+7;t++)s.append("<div class='evendar-ys-year"+(e==t?" current":"")+"' data-year='"+t+"'>"+t+"</div>");s.append("<div class='evendar-ys-year-next'><i class='fa fa-angle-double-right'></i></div>"),s.fadeIn(100).css("display","block"),this.optimizeFontSize(s.find(".evendar-ys-year")),C(l).off("click.evendarys").on("click.evendarys",".evendar-ys-year",function(e){a.globals.currentDate.year(C(this).data("year")),a.config.currentDate=a.globals.currentDate.clone(),a.reDrawCalendars(),a.calendars.find(".evendar-year-selector").remove(),a.stopBubbling(e)}),C(l).off("click.evendarysprev").on("click.evendarysprev",".evendar-ys-year-prev",function(e){var t=s.data("year")-13,i=a.globals.currentDate.get("year");s.data("year",t),s.empty(),s.append("<div class='evendar-ys-year-prev'><i class='fa fa-angle-double-left'></i></div>");for(var n=t-6;n<7+t;n++)s.append("<div class='evendar-ys-year"+(i==n?" current":"")+"' data-year='"+n+"'>"+n+"</div>");s.append("<div class='evendar-ys-year-next'><i class='fa fa-angle-double-right'></i></div>"),a.stopBubbling(e)}),C(l).off("click.evendarysnext").on("click.evendarysnext",".evendar-ys-year-next",function(e){var t=s.data("year")+13,i=a.globals.currentDate.get("year");s.data("year",t),s.empty(),s.append("<div class='evendar-ys-year-prev'><i class='fa fa-angle-double-left'></i></div>");for(var n=t-6;n<t+7;n++)s.append("<div class='evendar-ys-year"+(i==n?" current":"")+"' data-year='"+n+"'>"+n+"</div>");s.append("<div class='evendar-ys-year-next'><i class='fa fa-angle-double-right'></i></div>"),a.stopBubbling(e)})}},optimizeFontSize:function(e){e.each(function(e,t){(t=C(t)).wrapInner("<span class='adjust-subject'></span>").prepend("<span class='font-adjuster'>i</span>");var i=t.find(".adjust-subject"),n=t.find(".font-adjuster");if(i.innerHeight()===n.innerHeight())n.remove(),i.contents().unwrap();else{for(;i.innerHeight()!==n.innerHeight();){var a=0;a=void 0!==r.getComputedStyle?parseFloat(r.getComputedStyle(n.get(0),null).getPropertyValue("font-size")):parseFloat(n.css("font-size")),i.parent().css("font-size",a-1+"px"),n.css("font-size",a-1+"px")}n.remove(),i.contents().unwrap()}})},showDropdown:function(e){var t=e||r.event||jQuery.Event("click",{target:this.elem});t.target=t.target||t.srcElement,(!this.globals.isMobile&&"none"==this.container.css("display")||this.globals.isMobile&&"none"==this.input.css("display"))&&(t.target!==this.elem&&(this.globals.dontHideOnce=!0,this.globals.initiator=t.target),this.fetchInputs(),this.reDrawCalendars(),this.config.onbeforeshow(this),this.globals.isMobile?(this.input.css({display:"flex"}),C("body").addClass("evendar-open")):this.container.css({display:"block"}),this.button.addClass("evendar-active"),this.drawEvents(),this.config.onaftershow(this))},hideDropdown:function(e){var t=e||r.event||jQuery.Event("click",{target:"body"});t.target=t.target||t.srcElement,this.globals.initiator===t.target||this.config.inline||!1===this.config.inline&&(!this.globals.isMobile&&"none"!=this.container.css("display")||this.globals.isMobile&&"none"!=this.input.css("display"))&&(this.config.onbeforehide(this),this.globals.isMobile?(this.input.css({display:"none"}),C("body").removeClass("evendar-open")):this.container.css({display:"none"}),this.button.removeClass("evendar-active"),this.input.removeClass("evendar-event-description-open"),this.config.onafterhide(this))},reDrawCells:function(){for(var e=this.container.find(".evendar-day, .evendar-disabled"),t=null!==this.config.currentDate?this.config.currentDate.clone().middleOfDay().unix():null,i=null!==this.config.minDate?this.config.minDate.clone().middleOfDay().unix():null,n=null!==this.config.maxDate?this.config.maxDate.clone().middleOfDay().unix():null,a=null!==this.globals.keyboardHoverDate?this.globals.keyboardHoverDate.clone().middleOfDay().unix():null,s=moment().middleOfDay().unix(),o=0;o<e.length;o++){var r=C(e[o]),l=parseInt(r.attr("data-value"),10),d=moment.unix(l).middleOfDay().locale(this.config.locale),c=d.day(),h="evendar-day";6!=c&&0!==c||(h+=" evendar-weekend"),l===s&&(h+=" evendar-today"),h=this.addSelectedStyles(l,h,t),h=this.addHoverStyles(l,h,a),h=this.addDisabledStyles(r,l,d,h,i,n),r.attr("class",h)}this.config.ondraw(this)},addSelectedStyles:function(e,t,i){return null!==i&&i===e&&(t+=" evendar-selected"),t},addHoverStyles:function(e,t,i){return 1==this.config.enableKeyboard&&null!==i&&i==e&&(t+=" evendar-hovered"),t},addDisabledStyles:function(e,t,i,n,a,s){return(null!==s&&s<t||null!==a&&t<a)&&(n="evendar-disabled"),i.month()!=e.closest(".evendar-calendar").attr("data-month")&&(n+=" evendar-disabled evendar-not in month").replace("evendar-weekend","").replace(/  /g," "),n},eventClicked:function(e){(e=e||r.event).target=e.target||e.srcElement;var t=C(e.currentTarget),i=t.data("event-id");if(void 0!==i){var n=C.grep(this.config.events,function(e){return e.id==i});if(1===n.length)if(!0===this.config.showEventDetails){n=n[0],this.globals.focusedEvent=JSON.parse(JSON.stringify(n)),this.input.find(".evendar-event-description").remove();var a=moment(n.startDate,this.config.format),s=moment(n.endDate,this.config.format),o=C("<div class='evendar-event-description' style='display:none;'></div>").appendTo(this.input.find(".evendar-input-content"));o.append("<div class='evendar-event-description-image'><img src='"+n.image+"' />"+(""!=n.link?"<div class='evendar-event-description-button'><a href='"+n.link+"' target='"+n.target+"'><button type='button'>"+this.config.goToEventLabel+"</button></a><div>"+this.config.goToEventTooltipText+"</div></div>":"")+"</div><div class='evendar-event-description-content'><div class='evendar-event-description-title'>"+n.name+"</div><div class='evendar-event-description-place'>"+n.place+"</div><div class='evendar-event-description-date'>"+a.format(this.config.format)+" - "+(s.isSame(a,"day")?s.format(this.config.hourLabelFormat):s.format(this.config.format))+"</div><div class='evendar-event-description-text'>"+n.description+"</div></div>"),this.input.addClass("evendar-event-description-open"),this.input.find(".evendar-cancel").text(this.config.closeLabel),this.input.find(".evendar-apply").removeAttr("disabled"),o.find("img").each(function(){var e=C(this);e.attr("lazy-src",e.attr("src")),e.removeAttr("src")}),o.show(),this.lazyLoadImages(o)}else this.config.autoCloseOnSelect?(this.globals.selectedEvent=JSON.parse(JSON.stringify(n[0])),this.selectEvent(this.globals.selectedEvent)):(C(".evendar-eventlist-item-list, .evendar-eventlist-item").not(t).removeClass("evendar-eventlist-item-selected"),t.toggleClass("evendar-eventlist-item-selected"),t.hasClass("evendar-eventlist-item-selected")?(this.globals.focusedEvent=JSON.parse(JSON.stringify(n[0])),this.input.find(".evendar-apply").removeAttr("disabled")):(this.globals.selectedEvent=null,this.input.find(".evendar-apply").attr("disabled","disabled")))}else this.config.onDefaultEventClick(this,this.config.currentDate);this.stopBubbling(e)},selectEvent:function(e){var t=C(".evendar-eventlist",this.input),i=t.scrollTop();if(!0===this.config.onbeforeselect(this,e))if(this.updateInput(!0),!1===this.config.inline&&1==this.config.autoCloseOnSelect)this.hideDropdown();else{var n=this.input.find(".evendar-event-description"),a=!0;0<n.length&&(n.remove(),this.input.removeClass("evendar-event-description-open"),a=!1),this.fetchInputs(),this.drawEvents(),(t=C(".evendar-eventlist",this.input)).scrollTop(i),!1===this.config.inline&&a&&this.hideDropdown()}else this.fetchInputs(),this.drawEvents(),(t=C(".evendar-eventlist",this.input)).scrollTop(i)},setViewport:function(){if(!this.globals.scrollEventRunning){if(this.globals.scrollEventRunning=!0,this.globals.isMobile)"none"!==this.input.css("display")&&this.container.trigger("evendar:resize");else if("none"!==this.container.css("display")){switch(this.config.showOn){case"top":this.config.autoAlign?this.positionOnTopAlign():this.positionOnTop();break;case"left":this.config.autoAlign?this.positionOnLeftAlign():this.positionOnLeft();break;case"right":this.config.autoAlign?this.positionOnRightAlign():this.positionOnRight();break;case"bottom":default:this.config.autoAlign?this.positionOnBottomAlign():this.positionOnBottom()}}this.globals.scrollEventRunning=!1}},positionOnBottom:function(e){var t=this.getDimensions(this.$elem,!0),i=parseInt(this.input.css("margin-left"),10),n={top:t.offsetTop+t.height-i+11,left:t.offsetLeft-i};if(e)return n;this.container.css(n),this.container.children("div[class*='evendar-box-arrow-']").attr("class","evendar-box-arrow-top")},positionOnLeft:function(e){var t=this.getDimensions(this.$elem,!0),i=this.getDimensions(this.container,!0),n=parseInt(this.input.css("margin-left"),10),a={top:t.offsetTop-3*n,left:t.offsetLeft-i.width-n-2};if(e)return a;this.container.css(a),this.container.children("div[class*='evendar-box-arrow-']").attr("class","evendar-box-arrow-right")},positionOnRight:function(e){var t=this.getDimensions(this.$elem,!0),i=(this.getDimensions(this.container,!0),parseInt(this.input.css("margin-left"),10)),n={top:t.offsetTop-3*i,left:t.offsetLeft+t.width+i+2};if(e)return n;this.container.css(n),this.container.children("div[class*='evendar-box-arrow-']").attr("class","evendar-box-arrow-left")},positionOnTop:function(e){var t=this.getDimensions(this.$elem,!0),i=this.getDimensions(this.container,!0),n=parseInt(this.input.css("margin-left"),10),a={top:t.offsetTop-n-i.height-2,left:t.offsetLeft-n};if(e)return a;this.container.css(a),this.container.children("div[class*='evendar-box-arrow-']").attr("class","evendar-box-arrow-bottom")},positionOnBottomAlign:function(){var e=this.positionOnBottom(!0),t=this.getDimensions(this.container),i=this.getViewport();e.top+t.height<i.bottom?this.positionOnBottom():this.positionOnTopAlign()},positionOnLeftAlign:function(){var e=this.positionOnLeft(!0),t=(this.getDimensions(this.container),this.getViewport());e.left>t.left?this.positionOnLeft():this.positionOnRight()},positionOnRightAlign:function(){var e=this.positionOnRight(!0),t=this.getDimensions(this.container),i=this.getViewport();e.left+t.width<i.right?this.positionOnRight():this.positionOnLeft()},positionOnTopAlign:function(){var e=this.positionOnTop(!0),t=(this.getDimensions(this.container),this.getViewport());e.top>t.top?this.positionOnTop():this.positionOnBottom()},getDimensions:function(e,t){var i=l.body,n=e[0],a=e.offset();if(e===this.$elem&&!1===this.globals.parentScrollEventsAttached){var s=C.proxy(function(){this.globals.isTicking||(this.globals.isTicking=!0,this.globals.rafID=this.requestAnimFrame(C.proxy(function(){this.setViewport(),this.cancelAnimFrame(this.globals.rafID),this.globals.isTicking=!1},this)))},this);if(n!==i)for(var o=n.parentNode;o!==i&&null!==o;)o.scrollHeight>o.offsetHeight&&C(o).off("scroll.calentim").on("scroll.calentim",s),o=o.parentNode;this.globals.parentScrollEventsAttached=!0}return{width:n.offsetWidth,height:n.offsetHeight,offsetLeft:a.left,offsetTop:a.top}},getViewport:function(){return{top:r.scrollY||r.pageYOffset,left:r.scrollX||r.pageXOffset,bottom:(r.scrollY||r.pageYOffset)+r.innerHeight,right:(r.scrollX||r.pageXOffset)+r.innerWidth}},attachEvents:function(){var e=C.proxy(this.drawNextMonth,this),t=C.proxy(this.drawPrevMonth,this),i=C.proxy(this.cellClicked,this),n=C.proxy(this.monthSwitchClicked,this),a=C.proxy(this.yearSwitchClicked,this),s="click.evendar";if(this.container.find(".evendar-next").off(s).one(s,e),this.container.find(".evendar-prev").off(s).one(s,t),this.container.find(".evendar-day").off(s).on(s,i),this.container.find(".evendar-disabled").not(".evendar-day").off(s),this.container.find(".evendar-month-switch ").off(s).on(s,n),this.container.find(".evendar-year-switch ").off(s).on(s,a),!0===this.globals.isMobile)if("function"==typeof C.fn.swiperight)this.input.find(".evendar-calendars").css("touch-action","none"),this.input.find(".evendar-calendars").on("swipeleft",e),this.input.find(".evendar-calendars").on("swiperight",t);else{var o=new Hammer(this.input.find(".evendar-calendars").get(0));o.off("swipeleft").on("swipeleft",e),o.off("swiperight").on("swiperight",t)}this.container.find(".evendar-add-new > button").off("click.evendar").on("click.evendar",C.proxy(function(e){return this.config.onAddButtonClick(this,this.config.currentDate),this.config.reDrawCalendars(),this.stopBubbling(e),!1},this)),this.input.find(".evendar-cancel").off("click.evendar").on("click.evendar",C.proxy(function(e){return this.input.hasClass("evendar-event-description-open")||!0===this.config.inline?(this.input.hasClass("evendar-event-description-open")&&(this.input.find(".evendar-apply").attr("disabled","disabled"),this.globals.selectedEvent=null),this.input.find(".evendar-event-description").remove(),this.input.removeClass("evendar-event-description-open"),this.input.find(".evendar-cancel").text(this.config.cancelLabel)):(this.globals.selectedEvent=null,this.hideDropdown(e)),this.stopBubbling(e),!1},this)),this.input.find(".evendar-apply").off("click.evendar").on("click.evendar",C.proxy(function(e){return 1==this.config.showEventDetails&&this.input.hasClass("evendar-event-description-open")&&0==this.config.autoCloseOnSelect&&0==this.config.inline?(this.globals.selectedEvent=JSON.parse(JSON.stringify(this.globals.focusedEvent)),this.input.find(".evendar-event-description").remove(),this.input.removeClass("evendar-event-description-open"),this.input.find(".evendar-cancel").text(this.config.cancelLabel),this.drawEvents()):(this.globals.selectedEvent=JSON.parse(JSON.stringify(this.globals.focusedEvent)),this.selectEvent(this.globals.selectedEvent)),this.stopBubbling(e),!1},this)),this.input.find(".evendar-clear").off("click.evendar").on("click.evendar",C.proxy(function(e){return this.input.hasClass("evendar-event-description-open")||!0===this.config.inline?(this.input.hasClass("evendar-event-description-open")&&this.input.find(".evendar-apply").attr("disabled","disabled"),this.globals.selectedEvent=null,this.input.find(".evendar-event-description").remove(),this.input.removeClass("evendar-event-description-open"),this.input.find(".evendar-cancel").text(this.config.cancelLabel),this.updateInput(),this.fetchInputs(),this.drawEvents()):(this.globals.selectedEvent=null,this.updateInput(),this.hideDropdown(e)),!1},this))},addInitialEvents:function(){var e="click.evendar";this.globals.documentEvent=e+"_"+Math.round((new Date).getTime()+100*Math.random()),C(l).on(this.globals.documentEvent,C.proxy(function(e){!1===this.globals.isMobile&&!1===this.config.inline&&((e=e||r.event).target=e.target||e.srcElement,0===C(this.container).find(C(e.target)).length&&!C(this.elem).is(e.target)&&C(this.input).is(":visible")&&this.hideDropdown(e))},this)),this.config.enableKeyboard&&(e="click.evendar focus.evendar"),this.$elem.on(e,C.proxy(this.debounce(function(e){(e=e||r.event).target=e.target||e.srcElement,C(this.input).is(":visible")&&!C(this.$elem).is(e.target)?this.hideDropdown(e):this.showDropdown(e)},200,this),this)),this.container.on("evendar:resize",C.proxy(function(){var e=this.input.find(".evendar-calendar:visible:first").outerHeight()-1;this.input.find(".evendar-calendars").css("height",e)},this)),"none"!==this.input.css("display")&&this.globals.isMobile&&this.container.trigger("evendar:resize"),C(r).on("resize scroll",C.proxy(this.resizeEventBox,this))},stopBubbling:function(e){void 0!==e&&(void 0!==e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&(e.cancelBubble=!0),void 0!==e.preventDefault&&e.preventDefault(),e.returnValue=!1)},debounce:function(n,a,s){return function(){var e=this,t=arguments,i=s&&!e.globals.throttleTimeout;clearTimeout(e.globals.throttleTimeout),e.globals.throttleTimeout=setTimeout(function(){e.globals.throttleTimeout=null,s||n.apply(e,t)},a),i&&n.apply(e,t)}},requestAnimFrame:function(e){return"function"==typeof r.requestAnimationFrame?requestAnimationFrame(e):"function"==typeof r.webkitRequestAnimationFrame?webkitRequestAnimationFrame(e):"function"==typeof r.mozRequestAnimationFrame?mozRequestAnimationFrame(e):setTimeout(e,100/6)},cancelAnimFrame:function(e){return"function"==typeof r.cancelAnimationFrame?cancelAnimationFrame(e):"function"==typeof r.webkitCancelAnimationFrame?webkitCancelAnimationFrame(e):"function"==typeof r.mozCancelAnimationFrame?mozCancelAnimationFrame(e):clearTimeout(e)},destroy:function(){this.config.inline?(this.input.remove(),this.globals.isMobile?this.$elem.unwrap(".evendar-container-mobile"):this.$elem.unwrap(".evendar-container")):(this.container.remove(),C(this.elem).siblings().each(function(){C(this).remove()}),C(this.elem).unwrap(".evendar-input-wrapper")),this.elem.type="text",C(l).off(this.globals.documentEvent),this.$elem.removeData("evendar")},addKeyboardEvents:function(){if(this.config.enableKeyboard){var e=C.proxy(function(e){var t=e.which?e.which:e.keyCode;null===this.globals.keyboardHoverDate?null===this.config.currentDate?this.globals.keyboardHoverDate=moment({day:1,month:this.calendars.first().data("month")}).middleOfDay():this.globals.keyboardHoverDate=this.config.currentDate.clone().middleOfDay():this.globals.keyboardHoverDate.middleOfDay();var i=!1,n=!1;switch(t){case 37:this.globals.keyboardHoverDate.add(-1,"day"),n=i=!0;break;case 38:this.globals.keyboardHoverDate.add(-1,"week"),n=i=!0;break;case 39:this.globals.keyboardHoverDate.add(1,"day"),n=i=!0;break;case 40:this.globals.keyboardHoverDate.add(1,"week"),n=i=!0;break;case 32:this.input.find(".evendar-day[data-value='"+this.globals.keyboardHoverDate.middleOfDay().unix()+"']").first().trigger("click.evendar"),n=!(i=!1);break;case 33:e.shiftKey?this.globals.keyboardHoverDate.add(-1,"years"):this.globals.keyboardHoverDate.add(-1,"months"),n=i=!0;break;case 34:e.shiftKey?this.globals.keyboardHoverDate.add(1,"years"):this.globals.keyboardHoverDate.add(1,"months"),n=i=!0;break;case 27:case 9:this.hideDropdown(e);break;case 36:e.shiftKey&&(this.globals.keyboardHoverDate=moment().middleOfDay(),n=i=!0)}if(i||n)return this.globals.keyboardHoverDate=this.globals.keyboardHoverDate.middleOfDay(),(this.globals.keyboardHoverDate.isBefore(moment.unix(this.input.find(".evendar-day:first").attr("data-value")))||this.globals.keyboardHoverDate.isAfter(moment.unix(this.input.find(".evendar-day:last").attr("data-value"))))&&(this.globals.currentDate=this.globals.keyboardHoverDate.clone().startOfMonth(),this.reDrawCalendars(),i=!1),i&&(this.globals.hoverDate=null,this.reDrawCells(),this.attachEvents()),n&&this.stopBubbling(e),!1},this);this.$elem.off("keydown.evendar").on("keydown.evendar",e),this.container.off("keydown.evendar").on("keydown.evendar",e)}},addBrowserClass:function(){var e=-1,t=r.navigator.userAgent;if(0<t.indexOf("MSIE "))e=parseInt(t.slice(t.indexOf(" MSIE")+6,t.indexOf(".",t.indexOf(" MSIE"))),10);else if(0<t.indexOf("Trident/"))e=parseInt(t.slice(t.indexOf("rv:")+3,t.indexOf(".",t.indexOf("rv:"))),10);else{if(!(0<t.indexOf("Edge/")))return!1;e=parseInt(t.slice(t.indexOf("Edge/")+6,t.indexOf(".",t.indexOf("Edge/"))),10)}8<e&&(C("body").hasClass("evendar-ie"+e)||C("body").addClass("evendar-ie"+e))},lazyLoadImages:function(e){e.find("img").each(function(){var e=C(this);if(e.attr("lazy-src")){var t=C("img");t.attr("src",e.attr("lazy-src")),e.on("load",function(){e.attr("src",t.attr("src")).removeAttr("lazy-src")})}})},checkMobile:function(){return r.matchMedia("only screen and (max-width: "+this.config.mobileBreakpoint+"px)").matches}}).defaults,C.fn.evendar=function(e){return this.each(function(){null==C(this).data("evendar")&&new t(this,e).init()})},"function"!=typeof moment.fn.middleOfDay&&(moment.fn.middleOfDay=function(){return this.hours(12).minutes(0).seconds(0),this},moment.fn.startOfMonth=function(){return this.middleOfDay().date(1),this})}(jQuery,window,document);
//# sourceMappingURL=evendar.min.js.map